<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transformer Atlas</title>
    <meta
      name="description"
      content="A visual, scroll-driven explainer of transformer models with interactive diagrams and intuition-first storytelling."
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="glow"></div>

    <header class="hero">
      <div class="nav">
        <span class="badge">AI Explainer</span>
        <button id="copyLink" class="ghost">Copy Link</button>
      </div>
      <h1>Transformer Atlas</h1>
      <p class="lede">
        A scroll-driven, visual tour of how transformers turn tokens into
        meaning. Clear intuition, minimal math, maximum clarity.
      </p>
      <div class="hero-grid">
        <div class="hero-card">
          <label for="promptInput">Try a prompt</label>
          <textarea id="promptInput" rows="3">
I want a plan that feels smart, calm, and surprisingly simple.
          </textarea>
          <div class="hero-actions">
            <button id="runPrompt" class="primary">Update Scene</button>
            <button id="randomPrompt" class="ghost">Surprise Me</button>
          </div>
          <div class="tips">
            Tip: shorter prompts reveal attention patterns more clearly.
          </div>
        </div>
        <div class="hero-card metrics">
          <div>
            <span class="label">Tokens</span>
            <strong id="tokenCount">â€”</strong>
          </div>
          <div>
            <span class="label">Heads</span>
            <strong id="headCount">4</strong>
          </div>
          <div>
            <span class="label">Layers</span>
            <strong>2</strong>
          </div>
          <div class="head-control">
            <label for="headSelect">Attention Head</label>
            <input id="headSelect" type="range" min="0" max="3" value="0" />
          </div>
        </div>
      </div>
    </header>

    <main class="layout">
      <aside class="stage">
        <div class="stage-card">
          <div class="stage-header">
            <div>
          <span class="stage-label">Current Step</span>
              <h2 id="stageTitle">Tokenization</h2>
            </div>
            <div class="stage-pill" id="stageTag">Step 01</div>
          </div>
          <p id="stageBody">
            Transformers begin by slicing text into tokens. Each token becomes a
            discrete unit the model can reason about.
          </p>
          <canvas id="scene" width="640" height="420"></canvas>
        </div>
      </aside>

      <section class="story">
        <div class="story-title">Choose a step</div>
        <div class="scene-list">
          <button class="scene-button active" data-scene="0">
            <span class="scene-name">Tokenization</span>
            <span class="scene-desc">
              The model cuts text into pieces: words, subwords, punctuation.
            </span>
          </button>
          <button class="scene-button" data-scene="1">
            <span class="scene-name">Embeddings</span>
            <span class="scene-desc">
              Each token maps to a dense vector and semantic position.
            </span>
          </button>
          <button class="scene-button" data-scene="2">
            <span class="scene-name">Self-Attention</span>
            <span class="scene-desc">
              Tokens decide which other tokens matter most.
            </span>
          </button>
          <button class="scene-button" data-scene="3">
            <span class="scene-name">Feed-Forward + Residual</span>
            <span class="scene-desc">
              Nonlinear mixing plus residual stability.
            </span>
          </button>
          <button class="scene-button" data-scene="4">
            <span class="scene-name">Prediction</span>
            <span class="scene-desc">
              Final vectors become next-token probabilities.
            </span>
          </button>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div>Select a step to animate the model.</div>
    </footer>

    <div id="toast" class="toast hidden"></div>

    <script src="script.js"></script>
  </body>
</html>
